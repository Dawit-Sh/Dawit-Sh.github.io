<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookshelf</title>
    <link rel="stylesheet" href="assets/css/book.css"/>
</head>
<body>
    <h1>BookShelf</h1>
    <h4><i>Readings Iâ€™ve appreciated.</i></h4>
    <!-- Filter Buttons -->
    <div class="filter-buttons">
        <button class="filter-button active" data-filter="all">All</button>
        <button class="filter-button" data-filter="fiction">Fiction</button>
        <button class="filter-button" data-filter="non-fiction">Non-Fiction</button>
    </div>
    <!-- Gallery -->
    <div class="gallery" id="book-gallery">
        <!-- Books -->
    </div>

    <!-- JavaScript -->
    <script>
        async function fetchBooks() {
            try {
                const response = await fetch('books.json');
                const books = await response.json();
                const gallery = document.getElementById('book-gallery');

                books.forEach(book => {
                    const bookDiv = document.createElement('div');
                    bookDiv.classList.add('book');
                    bookDiv.setAttribute('data-category', book.category);

                    bookDiv.innerHTML = `
                        <img src="${book.image}" alt="${book.title}">
                        <div class="book-info">
                            <h2>${book.title}</h2>
                            <p>${book.author}</p>
                        </div>
                    `;
                    gallery.appendChild(bookDiv);
                });
            } catch (error) {
                console.error('Error fetching books:', error);
            }
        }

        
        window.onload = fetchBooks;

        // Filter 
        document.querySelectorAll('.filter-button').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                const filter = this.getAttribute('data-filter');
                document.querySelectorAll('.book').forEach(book => {
                    if (filter === 'all' || book.getAttribute('data-category') === filter) {
                        book.style.display = '';
                    } else {
                        book.style.display = 'none';
                    }
                });
            });
        });
    </script>
</body>
</html>
